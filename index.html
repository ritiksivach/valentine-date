<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Choose Our Date ğŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #ffe6eb, #fff);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .card {
      background: white;
      padding: 2rem;
      border-radius: 16px;
      width: 90%;
      max-width: 420px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      animation: fadeIn 0.4s ease;
    }

    h1, h2 {
      margin-top: 0;
    }

    p {
      color: #555;
    }

    .options {
      display: grid;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .hidden {
  display: none;
}

    button {
      padding: 1rem;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      background: #ff4d6d;
      color: white;
      transition: transform 0.15s ease;
    }

    button:hover {
      transform: translateY(-2px);
    }
    #planSection {
  animation: fadeIn 0.4s ease;
}

    input {
      width: 100%;
      padding: 0.7rem;
      margin-top: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 0.5rem 0;
      font-size: 0.9rem;
      word-break: break-all;
    }

    .heart {
      font-size: 2rem;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<div id="app" class="card"></div>

<!-- EMAILJS -->
<!--<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>-->

<script>
  // ğŸ”´ EMAILJS CONFIG â€” REPLACE THESE
  emailjs.init("8-8i7etZqiqChJhx3");

  const state = {
    step: 0,
    answers: {},
    giftLinks: []
  };
  const romanticLines = [
  "No matter what we do, my favorite part is doing it with you.",
  "This date sounds perfect â€” mostly because it includes you.",
  "Every plan feels better when I imagine you smiling across from me.",
  "Somehow, even the simplest moments become special with you.",
  "I donâ€™t care where we go â€” as long as itâ€™s together."
];

  const steps = [
    {
      q: "Where should our date be?",
      options: [
        { label: "Indoor ğŸ ", value: "Indoor" },
        { label: "Outdoor ğŸŒ¿", value: "Outdoor" }
      ]
    },
    {
      q: "What kind of vibe?",
      options: [
        { label: "Cozy âœ¨", value: "Cozy" },
        { label: "Fancy ğŸ·", value: "Fancy" }
      ]
    },
    {
      q: "What should we eat?",
      options: [
        { label: "Italian ğŸ", value: "Italian" },
        { label: "Chinese ", value: "Chinese" },
        { label: "Asian ğŸœ", value: "Asian" },
        { label: "Surprise ğŸ˜", value: "Surprise" }
      ]
    }
  ];

  const app = document.getElementById("app");

  function render() {
    app.innerHTML = "";

    if (state.step < steps.length) {
      const step = steps[state.step];

      app.innerHTML = `
        <h1>${step.q}</h1>
        <div class="options">
          ${step.options.map(o =>
            `<button onclick="selectOption('${o.value}')">${o.label}</button>`
          ).join("")}
        </div>
      `;
    } else {
      renderFinal();
    }
  }

  function selectOption(value) {
    state.answers[state.step] = value;
    state.step++;
    render();
  }

function renderFinal() {
  app.innerHTML = `
    <div id="planSection">
  <h2>Our Date Plan ğŸ’–</h2>

  <p>
    ${state.answers[0]} â€¢ ${state.answers[1]} â€¢ ${state.answers[2]}
  </p>

  <p id="romanticLine" style="margin-top:1rem; font-style: italic;"></p>

  <button class="secondary" onclick="showGiftSection()">
    Click me for more ğŸ’
  </button>
</div>

<div id="giftSection" class="hidden"></div>

  `;
  document.getElementById("romanticLine").textContent =
  romanticLines[Math.floor(Math.random() * romanticLines.length)];

}

function showGiftSection() {
  document.getElementById("planSection").style.display = "none";

  const section = document.getElementById("giftSection");
  section.classList.remove("hidden");

  renderGiftSection();
}

function renderGiftSection() {
  document.getElementById("giftSection").innerHTML = `
    <h3>Want some gifts?? Just paste the link here!! ğŸ’•</h3>

    <p>Check these sites:</p>
    <ul>
      <li><a href="https://in.bookmyshow.com/explore/movies-noida" target="_blank">Movie Tickets</a></li>
      <li><a href="https://www.clovia.com/panties/sexy-panties/s/"> Perfumes </a></li>
      <li><a href="https://hunkemoller.in/collection/bras" target="_blank"> Airpods</a></li>
      <li><a href="https://www.marksandspencer.in/l/lingerie/sexy-lingerie/" target="_blank">iPhone</a></li>
      
    </ul>

    <input id="giftInput" placeholder="Paste gift link here" />
    <button onclick="addGiftLink()">Add Link</button>

    <ul id="giftList"></ul>

    <button onclick="sendEmail()">Send now!! ğŸ’Œ</button>
  `;
}
function addGiftLink() {
  const input = document.getElementById("giftInput");
  if (!input.value) return;

  state.giftLinks.push(input.value);
  input.value = "";
  renderGiftList();
}

function renderGiftList() {
  const list = document.getElementById("giftList");
  list.innerHTML = "";

  state.giftLinks.forEach(link => {
    const li = document.createElement("li");
    li.textContent = link;
    list.appendChild(li);
  });
}


  function addGift() {
    const input = document.getElementById("giftInput");
    if (!input.value) return;

    state.giftLinks.push(input.value);
    input.value = "";
    renderGiftList();
  }

  function renderGiftList() {
    const list = document.getElementById("giftList");
    list.innerHTML = "";
    state.giftLinks.forEach(link => {
      const li = document.createElement("li");
      li.textContent = link;
      list.appendChild(li);
    });
  }

  function sendEmailJs() {
    const message = `
Date Plan:
${state.answers[0]} | ${state.answers[1]} | ${state.answers[2]}

Gift Links:
${state.giftLinks.length ? state.giftLinks.join("\n") : "No links added"}
`;

    emailjs.send(
      "service_s3h32gj",
      "template_lpfvqok",
      { message }
    ).then(() => {
      alert("Sent and ordered!!! Happy to help ğŸ’–");
    }, () => {
      alert("Please refresh and try again!Sorry for the trouble ğŸ˜¢");
    });
  }
  function sendEmail() {
  fetch("https://api.web3forms.com/submit", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      access_key: "d9aff4a9-8dce-499b-9492-ee3f435aa53f",
      subject: "Valentine Date Plan ğŸ’–",
      message: `
Date Plan:
${state.answers[0]} | ${state.answers[1]} | ${state.answers[2]}

Gift Links:
${state.giftLinks.length ? state.giftLinks.join("\n") : "No gifts added"}
      `
    })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      alert("On it's way to be ordered!!! Thanks for your supportğŸ’–");
    } else {
      alert("Please refresh and try again!Sorry for the trouble ğŸ˜¢");
      console.error(data);
    }
  })
  .catch(err => {
    alert("Please refresh and try again!Sorry for the trouble ğŸ˜¢");
    console.error(err);
  });
}

  render();
</script>

</body>
</html>
